<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My App</title>
  <script src="https://unpkg.com/vue/dist/vue.js"></script>
  <script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
  <script src="https://unpkg.com/axios/dist/axios.js"></script>
  <script src="index.js" defer></script>
  <link rel="stylesheet" type="text/css" href="app.css">
</head>
<body>
  <div id="vue-app">

    <router-view></router-view>

  </div>
</body>
</html>

<template id="home-page">
  <div >
    <h1>Characters</h1>
    <div 
      v-for="character in characters" 
      class = "character-card"
      v-bind:class = "[character.loyalty,character.status]"
      >
      <h2>{{character.name}}</h2>
      <ul>
        <li>Lvl 1 {{character.class}}</li>
        <li>{{character.hp}}/{{character.max_hp}} hp</li>
      </ul>
      <div 
        class='action-suite' 
        v-if="character.active"
        >

        <div v-if="character.hp > 0">
          <button v-on:click = "attack(character.id, character.attacking_id)">
            attack
          </button>
          <select v-model="character.attacking_id">
            <option></option>
            <option 
              v-for="x in attackable(character)"
              v-bind:value="x.id">
              {{x.name}}
            </option>
          </select>
        </div>

        <div v-else>
          <button v-on:click = "revive(character.id)">
            revive
          </button>
        </div>
      </div>
    </div>
    <div>
      <button v-on:click="save">save</button>
      <button v-on:click='refresh'>refresh</button>
    </div>
  </div>
</template>